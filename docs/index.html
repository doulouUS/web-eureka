<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Welcome to Louis Douge's website ! </title>
    <meta name="description" content="My personal webpage"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="style.css">
</head>
<style>

    .features {
        fill: #dcd;
    }

</style>
<body>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <script src='https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v3.0.1/mapbox.css' rel='stylesheet' />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-100501200-1', 'auto');
  ga('send', 'pageview');

</script>
    <script>

    // --------------------- Data -------------------------

    var url_taxi = "http://datamall2.mytransport.sg/ltaodataservice/Taxi-Availability?";
    var url_traffic = "http://datamall2.mytransport.sg/ltaodataservice/TrafficSpeedBands";
    var url_bing = 'http://dev.virtualearth.net/REST/v1/Routes?wayPoint.0=Singapore&wayPoint.1=Kuala+Lumpur&routeAttributes=routePath&key=Avah46_M-gfFeQ3P1w09Qq1ElAV9ZEHFDm9b8JRCRa8qPP5uVn21hDqAPVJgV4i_';
    /*
     fetch(url_traffic)
     .then((resp)=>resp.json())
     .then(function(data) {
     console.log(data);
     })
     .catch(function(error) {
     console.log(url);
     console.log(error);
     });
     */

    var data = [ [ 103.8198,1.3521],[ 103.9198, 1.4521] ];



    // --------------------- Map  -------------------------
    //Map dimensions (in pixels)
    var width = 600,
        height = 350;

    //Map projection
    var projection = d3.geo.mercator()
        .center([103.851959, 1.290270])
        .scale((50000))
        .translate([width/2,height/2]) //translate to center the map in view


    //Generate paths based on projection
    var path = d3.geo.path()
        .projection(projection);

    //Create an SVG
    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);

    //Group for the map features
    var features = svg.append("g")
        .attr("class","features");

    //Create zoom/pan listener
    //Change [1,Infinity] to adjust the min/max zoom scale
    var zoom = d3.behavior.zoom()
        .scaleExtent([1, Infinity])
        .on("zoom",zoomed);

    svg.call(zoom);

    d3.json("sg_topo.json",function(error, geodata) {
        if (error) return console.log(error); //unknown error, check the console

        //Create a path for each map feature in the data
        features.selectAll("path")
            .data(topojson.feature(geodata,geodata.objects.collection).features) //generate features from TopoJSON
            .enter()
            .append("path")
            .attr("d", path);
        //.on("click", clicked);

        // Places circles
        svg.selectAll("circle")
            .data(data)
            .enter()
            .append("circle")
            .attr("cx", function (d) {
                console.log(projection(d));
                return projection(d)[0];
            })
            .attr("cy", function(d) {
                return projection(d)[1];
            })
            .attr("r", "2px")
            .attr("fill", "red");

    });

    svg.call(zoom);

    // Add optional onClick events for features here
    // d.properties contains the attributes (e.g. d.properties.name, d.properties.population)
    function clicked(d,i) {

    }

    //Update map on zoom/pan
    function zoomed() {
        features.attr("transform", "translate(" + zoom.translate() + ")scale(" + zoom.scale() + ")")
            .selectAll("path").style("stroke-width", 1 / zoom.scale() + "px" );
    }

    </script>

<section class="page-header">

    <h1 class="project-name">Welcome to Louis Douge's website ! </h1>
    <h2 class="project-tagline"> My personal webpage </h2>


</section>

<section class="main-content">
    <h2 id="Know more about me">Welcome to GitHub Pages</h2>

    <p>You can use the <a href="https://github.com/doulouUS/doulouUS.github.io/edit/master/README.md">editor on GitHub</a> to maintain and preview the content for your website in Markdown files.</p>

    <p>Whenever you commit to this repository, GitHub Pages will run <a href="https://jekyllrb.com/">Jekyll</a> to rebuild the pages in your site, from the content in your Markdown files.</p>

    <h3 id="markdown">Markdown</h3>

    <p>Markdown is a lightweight and easy-to-use syntax for styling your writing. It includes conventions for</p>

    <div class="language-markdown highlighter-rouge"><pre class="highlight"><code>Syntax highlighted code block

<span class="gh"># Header 1</span>
<span class="gu">## Header 2</span>
<span class="gu">### Header 3</span>
<span class="p">
-</span> Bulleted
<span class="p">-</span> List
<span class="p">
1.</span> Numbered
<span class="p">2.</span> List

<span class="gs">**Bold**</span> and _Italic_ and <span class="sb">`Code`</span> text

<span class="p">[</span><span class="nv">Link</span><span class="p">](</span><span class="sx">url</span><span class="p">)</span> and !<span class="p">[</span><span class="nv">Image</span><span class="p">](</span><span class="sx">src</span><span class="p">)</span>
</code></pre>
    </div>

    <p>For more details see <a href="https://guides.github.com/features/mastering-markdown/">GitHub Flavored Markdown</a>.</p>

    <h3 id="jekyll-themes">Jekyll Themes</h3>

    <p>Your Pages site will use the layout and styles from the Jekyll theme you have selected in your <a href="https://github.com/doulouUS/doulouUS.github.io/settings">repository settings</a>. The name of this theme is saved in the Jekyll <code class="highlighter-rouge">_config.yml</code> configuration file.</p>

    <h3 id="support-or-contact">Support or Contact</h3>

    <p>Having trouble with Pages? Check out our <a href="https://help.github.com/categories/github-pages-basics/">documentation</a> or <a href="https://github.com/contact">contact support</a> and weâ€™ll help you sort it out.</p>


    <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
    </footer>
</section>


</body>
</html>
